(this["webpackJsonp@nexys/ddl"]=this["webpackJsonp@nexys/ddl"]||[]).push([[0],{26:function(e,t,a){e.exports=a(58)},31:function(e,t,a){},58:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(19),l=a.n(o);a(31),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i,s=a(4),c=a(2),m=a(6),u={borderTop:"1px solid #e5e5e5",borderBottom:"1px solid #e5e5e5",boxShadow:"0 .25rem .75rem rgba(0, 0, 0, .05)"},d=[{link:"/validate/schema",name:"Validate Schema"},{link:"/openApi",name:"Open Api Conversion"}],p=function(e){var t=r.a.createElement("header",null,r.a.createElement("div",{style:u,className:"d-flex flex-column flex-md-row align-items-center p-3 px-md-4 mb-3 bg-white"},r.a.createElement("h5",{className:"my-0 mr-md-auto font-weight-normal"},r.a.createElement(m.a,{to:"/"},"Digis DDL")),r.a.createElement("nav",{className:"my-2 my-md-0 mr-md-3"},d.map((function(e,t){return r.a.createElement(m.a,{className:"p-2 text-dark",key:t,to:e.link},e.name)})))));return r.a.createElement(r.a.Fragment,null,t,r.a.createElement("div",{className:"container"},e.children))},h=function(e){var t="fa fa-"+e.name;return r.a.createElement("i",{className:t})},f=function(){return r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,"DDL Checker"),r.a.createElement("p",null,"Use the menu to explore the different functionalities of the package"),r.a.createElement("p",null,r.a.createElement("a",{href:"https://github.com/Nexysweb/ddl"},r.a.createElement(h,{name:"code"})," Source")," under MIT license"))},g=a(1),E=a.n(g),v=["Int","Long","Double","LocalDateTime","LocalDate","Boolean","BigDecimal","String"],y=E.a.object().keys({name:E.a.string().alphanum().required(),column:E.a.string().optional(),type:E.a.string().alphanum().required(),optional:E.a.boolean(),permissions:E.a.array().optional(),description:E.a.string().optional()}),b=E.a.object().keys({name:E.a.string().alphanum().required(),uuid:E.a.boolean().optional(),table:E.a.string().optional(),description:E.a.string().optional(),fields:E.a.array().items(y).unique((function(e,t){return e.name===t.name})).required(),permissions:E.a.array().optional(),constraints:E.a.array()}),N=E.a.array().items(b).required(),x=function(e){var t=N.validate(e,{abortEarly:!1});if(void 0===t.error||null===t.error){var a=function(e){console.log(typeof e);var t=[],a=e.map((function(e){var a=e.fields.map((function(e){return e.type})).filter((function(e){return v.indexOf(e)<0}));return t=t.concat(a),e.name})),n=[];return t.map((function(e){return a.indexOf(e)<0&&n.push('"'.concat(e,'" is referenced as a type in params but was never defined')),!0})),n}(JSON.parse(e));return a.length>0?{status:!1,errors:a}:{status:!0,errors:null}}return{status:!1,errors:t.error.details.map((function(e){return e.message+" "+JSON.stringify(e.path)}))}},S=a(22),k=a(23),O=a(24),w=a(25),D=(i=function(e){var t=x(e);return t&&!t.status&&t.errors?{errors:["the string you entered is not a properly formatted DDL file, try again"].concat(t.errors.map((function(e){return e})))}:t},function(e){return function(e){Object(w.a)(a,e);var t=Object(O.a)(a);function a(e){var n;return Object(S.a)(this,a),(n=t.call(this,e)).state=void 0,n.handleSubmit=function(){var e=n.state.content;if(function(e){try{return JSON.parse(e),!0}catch(t){return!1}}(e)){var t=i(e);console.log(t),t.errors?n.setState({errors:t.errors,message:null}):n.setState({errors:null,message:"Congratulations, this is a valid file"})}else n.setState({errors:["the string you entered is not a JSON string, try again"],message:null})},n.handleChange=function(e){var t=e.target.value;n.setState({content:t})},n.state={content:"",errors:null},n}return Object(k.a)(a,[{key:"renderError",value:function(){var e=this.state.errors;return e?r.a.createElement("ul",{className:"list-group"},e.map((function(e,t){return r.a.createElement("li",{className:"list-group-item list-group-item-danger",key:t},e)}))):null}},{key:"renderSuccess",value:function(){var e=this.state.message;return e?r.a.createElement("p",{className:"alert alert-success"},e):null}},{key:"render",value:function(){var e=this.state.content;return r.a.createElement(r.a.Fragment,null,this.renderError(),this.renderSuccess(),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("textarea",{className:"form-control",style:{minWidth:"100%",height:"400px"},placeholder:"insert your json here",value:e,onChange:this.handleChange}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("button",{className:"btn btn-primary",type:"submit",onClick:this.handleSubmit},"Validate"))))}}]),a}(r.a.Component)})((function(){})),j=function(){return r.a.createElement("div",{className:"container"},r.a.createElement("h2",null,"Schema Validation"),r.a.createElement(D,null))},C=function(){return r.a.createElement("div",{className:"container"},r.a.createElement("h2",null,"Open Api V3"),r.a.createElement("p",null,"Based on ",r.a.createElement("a",{href:"https://github.com/OAI/OpenAPI-Specification/blob/master/versions/3.0.0.md"},"OpenAPI Specification")),r.a.createElement("p",null,r.a.createElement("b",null,"TODO")))},A=function(){return r.a.createElement("p",null,"Page Not Found")};var q=Object(s.f)((function(e){return r.a.createElement(p,null,r.a.createElement(s.c,null,r.a.createElement(s.a,{exact:!0,path:"/",component:f}),r.a.createElement(s.a,{exact:!0,path:"/validate/schema",component:j}),r.a.createElement(s.a,{exact:!0,path:"/openApi",component:C}),r.a.createElement(s.a,{path:"/",component:A})))})),B=c.a({basename:"/ddl"});l.a.render(r.a.createElement(s.b,{history:B},r.a.createElement(q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[26,1,2]]]);
//# sourceMappingURL=main.bd9eb2b9.chunk.js.map